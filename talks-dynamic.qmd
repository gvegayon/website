---
title: "Talks"
---

```{r}
#| echo: false
#| output: asis
#| error: false

# Function to fetch and parse README from talks repository
fetch_talks <- function() {
  # Try to load required packages, fallback if not available
  if (!requireNamespace("httr", quietly = TRUE) || !requireNamespace("stringr", quietly = TRUE)) {
    show_talks_fallback()
    return()
  }
  
  library(httr)
  library(stringr)
  
  # Fetch README.md from talks repository
  url <- "https://raw.githubusercontent.com/gvegayon/talks/master/README.md"
  
  tryCatch({
    response <- GET(url)
    
    if (status_code(response) == 200) {
      content <- content(response, "text", encoding = "UTF-8")
      
      # Remove the title line and any initial setup content
      # Find the start of the talks list
      lines <- strsplit(content, "\n")[[1]]
      
      # Find where the actual talks list starts (usually after "# List of talks")
      start_idx <- which(grepl("^# ", lines))[1] # Find first header
      if (!is.na(start_idx)) {
        # Get everything after the first header
        talks_content <- paste(lines[(start_idx+1):length(lines)], collapse = "\n")
        
        # Clean up and format
        talks_content <- gsub("^\\s+|\\s+$", "", talks_content) # trim whitespace
        if (nchar(talks_content) > 0) {
          cat(talks_content)
        } else {
          show_talks_fallback()
        }
      } else {
        show_talks_fallback()
      }
      
    } else {
      cat("Error fetching talks: HTTP", status_code(response), "\n\n")
      show_talks_fallback()
    }
  }, error = function(e) {
    cat("Error fetching talks data:", e$message, "\n\n")
    show_talks_fallback()
  })
}

# Fallback content
show_talks_fallback <- function() {
  cat("## My Talks and Presentations\n\n")
  cat("This page automatically fetches the latest talks from my [talks repository](https://github.com/gvegayon/talks).\n\n")
  cat("### Recent Presentations\n\n")
  cat("For the most up-to-date list of my talks and presentations, please visit:\n\n")
  cat("- **GitHub Repository**: [gvegayon/talks](https://github.com/gvegayon/talks)\n")
  cat("- **Direct Link**: [README.md](https://github.com/gvegayon/talks/blob/master/README.md)\n\n")
  cat("### Research Areas Covered\n\n")
  cat("My talks typically cover topics in:\n\n")
  cat("- **Statistical Computing**: High-performance computing methods for statistical analysis\n")
  cat("- **Network Analysis**: Social network analysis methods and applications\n")
  cat("- **Agent-Based Modeling**: Epidemiological modeling using ABMs\n")
  cat("- **R Package Development**: Creating tools for the R ecosystem\n")
  cat("- **Biostatistics**: Statistical methods in health and biological research\n\n")
  cat("### Contact for Speaking Engagements\n\n")
  cat("If you're interested in having me speak at your event, please feel free to [contact me](mailto:g.vegayon@gmail.com).\n\n")
}

# Execute the function
fetch_talks()
```